# è®°ä¸ªå¤§æ¦‚ - æŠ€æœ¯æ¶æ„æ–‡æ¡£

## 1. Architecture design

```mermaid
graph TD
  A[ç”¨æˆ·æµè§ˆå™¨] --> B[Vue.js å‰ç«¯åº”ç”¨]
  B --> C[è¯­éŸ³è¯†åˆ« API]
  B --> D[æœ¬åœ°å­˜å‚¨ LocalStorage]
  B --> E[Supabase æœåŠ¡]
  E --> F[PostgreSQL æ•°æ®åº“]
  E --> G[ç”¨æˆ·è®¤è¯]
  
  subgraph "å‰ç«¯å±‚"
    B
  end
  
  subgraph "å¤–éƒ¨æœåŠ¡"
    C
  end
  
  subgraph "æ•°æ®å±‚ (Supabase)"
    E
    F
    G
  end
  
  subgraph "æœ¬åœ°å­˜å‚¨"
    D
  end
```

## 2. Technology Description

* **å‰ç«¯**: Vue.js\@3 + Vite + Tailwind CSS + Pinia + Vue I18n

* **åç«¯**: Supabase (æä¾›æ•°æ®åº“ã€è®¤è¯ã€å®æ—¶åŒæ­¥)

* **è¯­éŸ³è¯†åˆ«**: Web Speech API (æµè§ˆå™¨åŸç”Ÿ) + ç™¾åº¦è¯­éŸ³è¯†åˆ«API (å¤‡é€‰)

* **å›¾è¡¨åº“**: Chart.js + è¶‹åŠ¿é¢„æµ‹å›¾è¡¨ç»„ä»¶

* **æ•°æ®åˆ†æ**: å‰ç«¯JavaScriptå®ç°çº¿æ€§å›å½’å’Œç§»åŠ¨å¹³å‡ç®—æ³•

* **UIç»„ä»¶**: è‡ªå®šä¹‰ç»„ä»¶ + Headless UI

* **å›½é™…åŒ–**: Vue I18n + æœ¬åœ°å­˜å‚¨è¯­è¨€åå¥½

## 3. Route definitions

| Route       | Purpose          |
| ----------- | ---------------- |
| /           | é¦–é¡µï¼Œæ˜¾ç¤ºè¯­éŸ³è®°è´¦å…¥å£å’Œæ”¯å‡ºæ¦‚è§ˆ |
| /record     | æ‰‹åŠ¨è®°è´¦é¡µé¢ï¼Œé‡‘é¢è¾“å…¥å’Œåˆ†ç±»é€‰æ‹© |
| /statistics | ç»Ÿè®¡åˆ†æé¡µé¢ï¼Œæ”¯å‡ºè¶‹åŠ¿å’Œåˆ†ç±»ç»Ÿè®¡ |
| /budget     | é¢„ç®—ç®¡ç†é¡µé¢ï¼Œè®¾ç½®å’Œè·Ÿè¸ªé¢„ç®—   |
| /settings   | è®¾ç½®é¡µé¢ï¼Œåˆ†ç±»ç®¡ç†å’Œæ•°æ®å¯¼å‡º   |
| /login      | ç™»å½•é¡µé¢ï¼Œç”¨æˆ·è®¤è¯        |

## 4. API definitions

### 4.1 Core API

**è¯­éŸ³è¯†åˆ«ç›¸å…³**

```
POST /api/speech/recognize
```

Request:

| Param Name  | Param Type | isRequired | Description     |
| ----------- | ---------- | ---------- | --------------- |
| audio\_data | blob       | true       | å½•éŸ³æ•°æ®            |
| format      | string     | true       | éŸ³é¢‘æ ¼å¼ (webm/wav) |

Response:

| Param Name | Param Type | Description |
| ---------- | ---------- | ----------- |
| text       | string     | è¯†åˆ«å‡ºçš„æ–‡å­—å†…å®¹    |
| amount     | number     | æå–çš„é‡‘é¢       |
| category   | string     | æ¨æµ‹çš„åˆ†ç±»       |
| confidence | number     | è¯†åˆ«ç½®ä¿¡åº¦       |

Example:

```json
{
  "text": "ä»Šå¤©åƒé¥­ç”¨äº†50å—é’±",
  "amount": 50,
  "category": "é¤é¥®",
  "confidence": 0.95
}
```

**æ”¯å‡ºè®°å½•ç›¸å…³**

```
POST /api/expenses
GET /api/expenses
PUT /api/expenses/:id
DELETE /api/expenses/:id
```

**é¢„ç®—ç®¡ç†ç›¸å…³**

```
POST /api/budgets
GET /api/budgets
PUT /api/budgets/:id
```

## 5. Data model

### 5.1 Data model definition

```mermaid
erDiagram
  USERS ||--o{ EXPENSES : creates
  USERS ||--o{ BUDGETS : sets
  USERS ||--o{ CATEGORIES : customizes
  EXPENSES }o--|| CATEGORIES : belongs_to
  BUDGETS }o--|| CATEGORIES : applies_to

  USERS {
    uuid id PK
    string email
    string name
    timestamp created_at
    timestamp updated_at
  }
  
  EXPENSES {
    uuid id PK
    uuid user_id FK
    uuid category_id FK
    decimal amount
    string description
    date expense_date
    string source
    timestamp created_at
  }
  
  CATEGORIES {
    uuid id PK
    uuid user_id FK
    string name
    string icon
    string color
    boolean is_default
    timestamp created_at
  }
  
  BUDGETS {
    uuid id PK
    uuid user_id FK
    uuid category_id FK
    decimal amount
    string period_type
    date start_date
    date end_date
    timestamp created_at
  }
```

### 5.2 Data Definition Language

**ç”¨æˆ·è¡¨ (users)**

```sql
-- Supabase Auth è‡ªåŠ¨ç®¡ç†ç”¨æˆ·è¡¨ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»º
```

**æ”¯å‡ºè®°å½•è¡¨ (expenses)**

```sql
CREATE TABLE expenses (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    category_id UUID REFERENCES categories(id),
    amount DECIMAL(10,2) NOT NULL,
    description TEXT,
    expense_date DATE NOT NULL DEFAULT CURRENT_DATE,
    source VARCHAR(20) DEFAULT 'manual' CHECK (source IN ('manual', 'voice')),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_expenses_user_id ON expenses(user_id);
CREATE INDEX idx_expenses_date ON expenses(expense_date DESC);
CREATE INDEX idx_expenses_category ON expenses(category_id);

-- æƒé™è®¾ç½®
GRANT SELECT ON expenses TO anon;
GRANT ALL PRIVILEGES ON expenses TO authenticated;
```

**åˆ†ç±»è¡¨ (categories)**

```sql
CREATE TABLE categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    name VARCHAR(50) NOT NULL,
    icon VARCHAR(50) DEFAULT 'ğŸ’°',
    color VARCHAR(7) DEFAULT '#4CAF50',
    is_default BOOLEAN DEFAULT false,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_categories_user_id ON categories(user_id);

-- æƒé™è®¾ç½®
GRANT SELECT ON categories TO anon;
GRANT ALL PRIVILEGES ON categories TO authenticated;

-- åˆå§‹åŒ–é»˜è®¤åˆ†ç±»
INSERT INTO categories (name, icon, color, is_default) VALUES
('é¤é¥®', 'ğŸ½ï¸', '#FF9800', true),
('äº¤é€š', 'ğŸš—', '#2196F3', true),
('è´­ç‰©', 'ğŸ›’', '#E91E63', true),
('å¨±ä¹', 'ğŸ¬', '#9C27B0', true),
('åŒ»ç–—', 'ğŸ¥', '#F44336', true),
('æ•™è‚²', 'ğŸ“š', '#3F51B5', true),
('å…¶ä»–', 'ğŸ’°', '#607D8B', true);
```

**é¢„ç®—è¡¨ (budgets)**

```sql
CREATE TABLE budgets (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    category_id UUID REFERENCES categories(id),
    amount DECIMAL(10,2) NOT NULL,
    period_type VARCHAR(10) NOT NULL CHECK (period_type IN ('weekly', 'monthly')),
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_budgets_user_id ON budgets(user_id);
CREATE INDEX idx_budgets_period ON budgets(start_date, end_date);

-- æƒé™è®¾ç½®
GRANT SELECT ON budgets TO anon;
GRANT ALL PRIVILEGES ON budgets TO authenticated;
```

## 6. å›½é™…åŒ–æŠ€æœ¯å®ç°

### 6.1 æŠ€æœ¯æ ˆ
- **Vue I18n**: Vue.jså®˜æ–¹å›½é™…åŒ–æ’ä»¶
- **è¯­è¨€æ–‡ä»¶**: JSONæ ¼å¼çš„ç¿»è¯‘æ–‡ä»¶
- **æœ¬åœ°å­˜å‚¨**: localStorageä¿å­˜ç”¨æˆ·è¯­è¨€åå¥½

### 6.2 ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ locales/
â”‚   â”œâ”€â”€ zh-CN.json    # ä¸­æ–‡è¯­è¨€åŒ…
â”‚   â”œâ”€â”€ en-US.json    # è‹±æ–‡è¯­è¨€åŒ…
â”‚   â””â”€â”€ index.ts      # i18né…ç½®æ–‡ä»¶
â”œâ”€â”€ composables/
â”‚   â””â”€â”€ useI18n.ts    # å›½é™…åŒ–ç»„åˆå¼å‡½æ•°
â””â”€â”€ components/
    â””â”€â”€ LanguageSwitch.vue  # è¯­è¨€åˆ‡æ¢ç»„ä»¶
```

### 6.3 é…ç½®å®ç°

**i18né…ç½® (src/locales/index.ts)**
```typescript
import { createI18n } from 'vue-i18n'
import zhCN from './zh-CN.json'
import enUS from './en-US.json'

const messages = {
  'zh-CN': zhCN,
  'en-US': enUS
}

// è·å–æµè§ˆå™¨è¯­è¨€æˆ–æœ¬åœ°å­˜å‚¨çš„è¯­è¨€åå¥½
const getDefaultLocale = () => {
  const saved = localStorage.getItem('locale')
  if (saved) return saved
  
  const browserLang = navigator.language
  return messages[browserLang] ? browserLang : 'zh-CN'
}

export const i18n = createI18n({
  legacy: false,
  locale: getDefaultLocale(),
  fallbackLocale: 'zh-CN',
  messages
})
```

### 6.4 è¯­è¨€æ–‡ä»¶ç»“æ„

**ä¸­æ–‡è¯­è¨€åŒ… (zh-CN.json)**
```json
{
  "common": {
    "confirm": "ç¡®è®¤",
    "cancel": "å–æ¶ˆ",
    "save": "ä¿å­˜",
    "delete": "åˆ é™¤",
    "edit": "ç¼–è¾‘"
  },
  "nav": {
    "home": "é¦–é¡µ",
    "record": "è®°å½•",
    "statistics": "ç»Ÿè®¡",
    "budget": "é¢„ç®—",
    "settings": "è®¾ç½®"
  },
  "categories": {
    "food": "é¤é¥®",
    "transport": "äº¤é€š",
    "shopping": "è´­ç‰©",
    "entertainment": "å¨±ä¹",
    "medical": "åŒ»ç–—",
    "education": "æ•™è‚²",
    "other": "å…¶ä»–"
  }
}
```

**è‹±æ–‡è¯­è¨€åŒ… (en-US.json)**
```json
{
  "common": {
    "confirm": "Confirm",
    "cancel": "Cancel",
    "save": "Save",
    "delete": "Delete",
    "edit": "Edit"
  },
  "nav": {
    "home": "Home",
    "record": "Record",
    "statistics": "Statistics",
    "budget": "Budget",
    "settings": "Settings"
  },
  "categories": {
    "food": "Food",
    "transport": "Transport",
    "shopping": "Shopping",
    "entertainment": "Entertainment",
    "medical": "Medical",
    "education": "Education",
    "other": "Other"
  }
}
```

### 6.5 ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

**åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨**
```vue
<template>
  <div>
    <h1>{{ $t('nav.home') }}</h1>
    <button>{{ $t('common.confirm') }}</button>
  </div>
</template>

<script setup>
import { useI18n } from 'vue-i18n'

const { t, locale } = useI18n()

// åˆ‡æ¢è¯­è¨€
const switchLanguage = (lang: string) => {
  locale.value = lang
  localStorage.setItem('locale', lang)
}
</script>
```

### 6.6 è¯­è¨€åˆ‡æ¢ç»„ä»¶

**LanguageSwitch.vue**
```vue
<template>
  <div class="language-switch">
    <select v-model="currentLocale" @change="handleLanguageChange">
      <option value="zh-CN">ä¸­æ–‡</option>
      <option value="en-US">English</option>
    </select>
  </div>
</template>

<script setup>
import { ref, watch } from 'vue'
import { useI18n } from 'vue-i18n'

const { locale } = useI18n()
const currentLocale = ref(locale.value)

const handleLanguageChange = () => {
  locale.value = currentLocale.value
  localStorage.setItem('locale', currentLocale.value)
}

watch(locale, (newLocale) => {
  currentLocale.value = newLocale
})
</script>
```

## 7. æ”¯å‡ºè¶‹åŠ¿é¢„æµ‹æŠ€æœ¯å®ç°

### 7.1 æŠ€æœ¯æ¶æ„

```mermaid
graph TD
  A[å†å²æ”¯å‡ºæ•°æ®] --> B[æ•°æ®é¢„å¤„ç†]
  B --> C[é¢„æµ‹ç®—æ³•å¼•æ“]
  C --> D[çº¿æ€§å›å½’ç®—æ³•]
  C --> E[ç§»åŠ¨å¹³å‡ç®—æ³•]
  C --> F[å­£èŠ‚æ€§åˆ†æ]
  D --> G[é¢„æµ‹ç»“æœ]
  E --> G
  F --> G
  G --> H[å›¾è¡¨å¯è§†åŒ–]
  G --> I[é¢„æµ‹æŠ¥å‘Š]
  
  subgraph "å‰ç«¯é¢„æµ‹å¼•æ“"
    B
    C
    D
    E
    F
  end
  
  subgraph "ç»“æœå±•ç¤º"
    H
    I
  end
```

### 7.2 æ ¸å¿ƒç®—æ³•å®ç°

**çº¿æ€§å›å½’ç®—æ³• (composables/useTrendPrediction.ts)**
```typescript
interface ExpenseData {
  date: string
  amount: number
  category: string
}

interface PredictionResult {
  predictedAmount: number
  trend: 'increasing' | 'decreasing' | 'stable'
  confidence: number
  dataPoints: Array<{ date: string; amount: number; isPredicted: boolean }>
}

export function useLinearRegression() {
  const calculateLinearRegression = (data: ExpenseData[]) => {
    const n = data.length
    if (n < 3) return null
    
    // å°†æ—¥æœŸè½¬æ¢ä¸ºæ•°å€¼ï¼ˆå¤©æ•°ï¼‰
    const baseDate = new Date(data[0].date).getTime()
    const points = data.map((item, index) => ({
      x: (new Date(item.date).getTime() - baseDate) / (1000 * 60 * 60 * 24),
      y: item.amount
    }))
    
    // è®¡ç®—çº¿æ€§å›å½’ç³»æ•°
    const sumX = points.reduce((sum, p) => sum + p.x, 0)
    const sumY = points.reduce((sum, p) => sum + p.y, 0)
    const sumXY = points.reduce((sum, p) => sum + p.x * p.y, 0)
    const sumXX = points.reduce((sum, p) => sum + p.x * p.x, 0)
    
    const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX)
    const intercept = (sumY - slope * sumX) / n
    
    // è®¡ç®—RÂ²å†³å®šç³»æ•°
    const meanY = sumY / n
    const ssTotal = points.reduce((sum, p) => sum + Math.pow(p.y - meanY, 2), 0)
    const ssRes = points.reduce((sum, p) => {
      const predicted = slope * p.x + intercept
      return sum + Math.pow(p.y - predicted, 2)
    }, 0)
    const rSquared = 1 - (ssRes / ssTotal)
    
    return { slope, intercept, confidence: rSquared }
  }
  
  return { calculateLinearRegression }
}
```

**ç§»åŠ¨å¹³å‡ç®—æ³•**
```typescript
export function useMovingAverage() {
  const calculateMovingAverage = (data: ExpenseData[], windowSize: number = 7) => {
    if (data.length < windowSize) return []
    
    const result = []
    for (let i = windowSize - 1; i < data.length; i++) {
      const window = data.slice(i - windowSize + 1, i + 1)
      const average = window.reduce((sum, item) => sum + item.amount, 0) / windowSize
      result.push({
        date: data[i].date,
        amount: average
      })
    }
    
    return result
  }
  
  const predictNextPeriod = (movingAverages: Array<{date: string, amount: number}>, periods: number) => {
    if (movingAverages.length < 3) return []
    
    const recent = movingAverages.slice(-3)
    const trend = (recent[2].amount - recent[0].amount) / 2
    
    const predictions = []
    const lastDate = new Date(recent[recent.length - 1].date)
    
    for (let i = 1; i <= periods; i++) {
      const nextDate = new Date(lastDate)
      nextDate.setDate(lastDate.getDate() + i * 7) // æŒ‰å‘¨é¢„æµ‹
      
      predictions.push({
        date: nextDate.toISOString().split('T')[0],
        amount: recent[recent.length - 1].amount + trend * i,
        isPredicted: true
      })
    }
    
    return predictions
  }
  
  return { calculateMovingAverage, predictNextPeriod }
}
```

### 7.3 é¢„æµ‹ç»„åˆå‡½æ•°

**ä¸»é¢„æµ‹å¼•æ“ (composables/useTrendPrediction.ts)**
```typescript
export function useTrendPrediction() {
  const { calculateLinearRegression } = useLinearRegression()
  const { calculateMovingAverage, predictNextPeriod } = useMovingAverage()
  
  const generatePrediction = async (
    expenses: ExpenseData[],
    options: {
      category?: string
      predictionMonths: number
      algorithm: 'linear' | 'moving_average' | 'combined'
    }
  ): Promise<PredictionResult | null> => {
    // æ•°æ®é¢„å¤„ç†
    let filteredData = expenses
    if (options.category) {
      filteredData = expenses.filter(e => e.category === options.category)
    }
    
    // æŒ‰æ—¥æœŸæ’åº
    filteredData.sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())
    
    // æ£€æŸ¥æ•°æ®é‡æ˜¯å¦è¶³å¤Ÿ
    if (filteredData.length < 30) { // è‡³å°‘éœ€è¦30æ¡è®°å½•
      return null
    }
    
    let prediction: PredictionResult
    
    switch (options.algorithm) {
      case 'linear':
        prediction = await generateLinearPrediction(filteredData, options.predictionMonths)
        break
      case 'moving_average':
        prediction = await generateMovingAveragePrediction(filteredData, options.predictionMonths)
        break
      case 'combined':
        prediction = await generateCombinedPrediction(filteredData, options.predictionMonths)
        break
      default:
        prediction = await generateCombinedPrediction(filteredData, options.predictionMonths)
    }
    
    return prediction
  }
  
  return { generatePrediction }
}
```

### 7.4 å›¾è¡¨å¯è§†åŒ–ç»„ä»¶

**è¶‹åŠ¿é¢„æµ‹å›¾è¡¨ç»„ä»¶ (components/TrendPredictionChart.vue)**
```vue
<template>
  <div class="trend-prediction-chart">
    <div class="chart-controls mb-4">
      <div class="flex gap-4">
        <select v-model="selectedCategory" class="form-select">
          <option value="">{{ $t('prediction.allCategories') }}</option>
          <option v-for="cat in categories" :key="cat.id" :value="cat.name">
            {{ $t(`categories.${cat.name}`) }}
          </option>
        </select>
        
        <input 
          v-model="predictionMonths" 
          type="range" 
          min="1" 
          max="6" 
          class="range-slider"
        >
        <span>{{ predictionMonths }}{{ $t('prediction.months') }}</span>
      </div>
    </div>
    
    <div class="chart-container">
      <canvas ref="chartCanvas"></canvas>
    </div>
    
    <div class="prediction-summary mt-4">
      <div class="grid grid-cols-3 gap-4">
        <div class="stat-card">
          <h3>{{ $t('prediction.nextMonthPrediction') }}</h3>
          <p class="text-2xl font-bold text-green-600">
            Â¥{{ predictionResult?.predictedAmount?.toFixed(2) }}
          </p>
        </div>
        
        <div class="stat-card">
          <h3>{{ $t('prediction.trend') }}</h3>
          <p class="text-lg" :class="trendClass">
            {{ $t(`prediction.${predictionResult?.trend}`) }}
          </p>
        </div>
        
        <div class="stat-card">
          <h3>{{ $t('prediction.confidence') }}</h3>
          <p class="text-lg">
            {{ (predictionResult?.confidence * 100)?.toFixed(1) }}%
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, watch, onMounted } from 'vue'
import { Chart, registerables } from 'chart.js'
import { useTrendPrediction } from '@/composables/useTrendPrediction'
import { useExpenseStore } from '@/stores/expense'

Chart.register(...registerables)

const expenseStore = useExpenseStore()
const { generatePrediction } = useTrendPrediction()

const chartCanvas = ref(null)
const selectedCategory = ref('')
const predictionMonths = ref(3)
const predictionResult = ref(null)
const chart = ref(null)

const categories = computed(() => expenseStore.categories)
const expenses = computed(() => expenseStore.expenses)

const trendClass = computed(() => {
  switch (predictionResult.value?.trend) {
    case 'increasing': return 'text-red-600'
    case 'decreasing': return 'text-green-600'
    case 'stable': return 'text-gray-600'
    default: return 'text-gray-600'
  }
})

const updatePrediction = async () => {
  const result = await generatePrediction(expenses.value, {
    category: selectedCategory.value,
    predictionMonths: predictionMonths.value,
    algorithm: 'combined'
  })
  
  predictionResult.value = result
  updateChart()
}

const updateChart = () => {
  if (!chart.value || !predictionResult.value) return
  
  const data = predictionResult.value.dataPoints
  const historicalData = data.filter(d => !d.isPredicted)
  const predictedData = data.filter(d => d.isPredicted)
  
  chart.value.data = {
    labels: data.map(d => d.date),
    datasets: [
      {
        label: 'å†å²æ•°æ®',
        data: historicalData.map(d => ({ x: d.date, y: d.amount })),
        borderColor: '#4CAF50',
        backgroundColor: 'rgba(76, 175, 80, 0.1)',
        borderWidth: 2,
        fill: false
      },
      {
        label: 'é¢„æµ‹æ•°æ®',
        data: predictedData.map(d => ({ x: d.date, y: d.amount })),
        borderColor: '#4CAF50',
        backgroundColor: 'rgba(76, 175, 80, 0.2)',
        borderWidth: 2,
        borderDash: [5, 5],
        fill: '+1'
      }
    ]
  }
  
  chart.value.update()
}

watch([selectedCategory, predictionMonths], updatePrediction)

onMounted(() => {
  chart.value = new Chart(chartCanvas.value, {
    type: 'line',
    options: {
      responsive: true,
      scales: {
        x: {
          type: 'time',
          time: {
            unit: 'day'
          }
        },
        y: {
          beginAtZero: true
        }
      },
      plugins: {
        legend: {
          display: true
        },
        tooltip: {
          mode: 'index',
          intersect: false
        }
      }
    }
  })
  
  updatePrediction()
})
</script>
```

### 7.5 æ•°æ®å­˜å‚¨æ‰©å±•

ç”±äºè¶‹åŠ¿é¢„æµ‹åŠŸèƒ½ä¸»è¦åŸºäºç°æœ‰çš„expensesè¡¨æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œä¸éœ€è¦é¢å¤–çš„æ•°æ®è¡¨ã€‚é¢„æµ‹ç»“æœåœ¨å‰ç«¯å®æ—¶è®¡ç®—ï¼Œä¸å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œç¡®ä¿æ•°æ®çš„å®æ—¶æ€§å’Œå‡†ç¡®æ€§ã€‚

### 7.6 æ€§èƒ½ä¼˜åŒ–

- **æ•°æ®ç¼“å­˜**ï¼šå¯¹é¢„æµ‹ç»“æœè¿›è¡ŒçŸ­æœŸç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—
- **æ‡’åŠ è½½**ï¼šé¢„æµ‹åŠŸèƒ½ä»…åœ¨ç”¨æˆ·è®¿é—®ç»Ÿè®¡é¡µé¢æ—¶åŠ è½½
- **è®¡ç®—ä¼˜åŒ–**ï¼šä½¿ç”¨Web Workersè¿›è¡Œå¤æ‚è®¡ç®—ï¼Œé¿å…é˜»å¡UIçº¿ç¨‹
- **æ•°æ®åˆ†é¡µ**ï¼šå¯¹å¤§é‡å†å²æ•°æ®è¿›è¡Œåˆ†é¡µå¤„ç†ï¼Œæé«˜è®¡ç®—æ•ˆç‡
```

